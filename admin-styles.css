/* ════════════════════════════════════════════════════════════════════════
   ADMIN DASHBOARD STYLES
   Add this block INSIDE the existing <style> tag in index.html,
   just before the closing </style> tag.
════════════════════════════════════════════════════════════════════════ */

/* ── Admin header ──────────────────────────────────────────────────────── */
.adm-header {
  display: flex; align-items: center; justify-content: space-between;
  flex-wrap: wrap; gap: 1rem;
  padding: 1.4rem 1.8rem 1rem;
  background: var(--surface);
  border: 1px solid var(--accent);
  margin-bottom: 1.5rem;
  position: relative;
  overflow: hidden;
}
.adm-header::before {
  content: '極楽街';
  position: absolute; right: 1.5rem; top: 50%; transform: translateY(-50%);
  font-family: 'Ma Shan Zheng', serif; font-size: 5rem;
  color: var(--accent); opacity: .04; pointer-events: none;
}
.adm-header-left {}
.adm-title {
  font-family: 'Cinzel', serif; font-size: 1.1rem; font-weight: 700;
  color: var(--accent); letter-spacing: .1em;
  display: flex; align-items: center;
}
.adm-subtitle {
  font-size: .82rem; color: var(--text-muted); margin-top: .2rem;
  letter-spacing: .04em;
}
.adm-staff-badge {
  font-family: 'Cinzel', serif; font-size: .6rem; letter-spacing: .18em;
  color: var(--bg); background: var(--accent);
  padding: .28rem .85rem; text-transform: uppercase;
  display: flex; align-items: center; gap: .45rem;
}

/* ── Admin tab strip ───────────────────────────────────────────────────── */
.adm-tabs {
  display: flex; gap: 0;
  border: 1px solid var(--hr); border-bottom: none;
  overflow-x: auto; scrollbar-width: none;
  background: var(--surface);
}
.adm-tabs::-webkit-scrollbar { display: none; }
.adm-tab {
  display: flex; align-items: center; gap: .38rem;
  padding: .72rem 1.2rem;
  font-family: 'Cinzel', serif; font-size: .63rem; letter-spacing: .1em;
  text-transform: uppercase; color: var(--text-dim);
  background: none; border: none; border-bottom: 3px solid transparent;
  cursor: pointer; white-space: nowrap; transition: all .2s;
}
.adm-tab:hover { color: var(--accent); background: var(--surface2); }
.adm-tab.active {
  color: var(--accent2); border-bottom-color: var(--accent2);
  background: var(--surface2);
}
.adm-badge {
  display: inline-flex; align-items: center; justify-content: center;
  min-width: 18px; height: 18px; padding: 0 5px;
  background: var(--accent); color: var(--bg);
  font-size: .58rem; border-radius: 9px;
}

/* ── Panel areas ───────────────────────────────────────────────────────── */
.adm-panel {
  display: none;
  border: 1px solid var(--hr); border-top: none;
  background: var(--surface); padding: 1.5rem;
  min-height: 300px;
}
.adm-panel.active { display: block; }

.adm-panel-header {
  display: flex; align-items: center; justify-content: space-between;
  flex-wrap: wrap; gap: .8rem;
  margin-bottom: 1.4rem; padding-bottom: .9rem;
  border-bottom: 1px solid var(--hr);
}
.adm-panel-header h3 {
  font-family: 'Cinzel', serif; font-size: .88rem; letter-spacing: .12em;
  color: var(--accent); text-transform: uppercase;
}
.adm-panel-loading {
  display: flex; align-items: center; justify-content: center; padding: 3rem;
}

/* ── Filters ───────────────────────────────────────────────────────────── */
.adm-filters {
  display: flex; gap: .4rem; flex-wrap: wrap;
}
.adm-filter-btn {
  padding: .3rem .75rem;
  font-family: 'Cinzel', serif; font-size: .58rem; letter-spacing: .1em;
  text-transform: uppercase; color: var(--text-muted);
  background: var(--surface2); border: 1px solid var(--hr);
  cursor: pointer; transition: all .18s;
}
.adm-filter-btn:hover { color: var(--accent); border-color: var(--accent); }
.adm-filter-btn.active {
  background: var(--accent); color: var(--bg); border-color: var(--accent);
}

/* ── Spinners ──────────────────────────────────────────────────────────── */
.adm-spinner {
  width: 32px; height: 32px;
  border: 3px solid var(--hr); border-top-color: var(--accent);
  border-radius: 50%; animation: adm-spin .7s linear infinite;
}
.adm-spinner-sm {
  width: 18px; height: 18px;
  border: 2px solid var(--hr); border-top-color: var(--accent);
  border-radius: 50%; animation: adm-spin .7s linear infinite;
}
@keyframes adm-spin { to { transform: rotate(360deg); } }

/* ── Empty states ──────────────────────────────────────────────────────── */
.adm-empty {
  display: flex; flex-direction: column; align-items: center;
  gap: .8rem; padding: 3.5rem;
  font-family: 'Cinzel', serif; font-size: .82rem;
  letter-spacing: .1em; color: var(--text-muted);
  text-align: center;
}

/* ════════════════════════════════════════════════════════════════════════
   THEORY CARDS
════════════════════════════════════════════════════════════════════════ */
.adm-theory-list { display: flex; flex-direction: column; gap: .75rem; }

.adm-theory-card {
  background: var(--surface2); border: 1px solid var(--hr);
  padding: 1rem 1.2rem;
  transition: border-color .2s;
  position: relative;
}
.adm-theory-card:hover { border-color: var(--accent); }

.adm-theory-top {
  display: flex; align-items: flex-start;
  justify-content: space-between; gap: 1rem; flex-wrap: wrap;
}
.adm-theory-meta { display: flex; align-items: center; gap: .65rem; flex-wrap: wrap; }

.adm-theory-avatar {
  width: 36px; height: 36px; border-radius: 50%;
  object-fit: cover; border: 2px solid var(--hr); flex-shrink: 0;
}
.adm-theory-avatar-ph {
  width: 36px; height: 36px; border-radius: 50%;
  background: var(--surface3); border: 2px solid var(--hr);
  display: flex; align-items: center; justify-content: center;
  font-family: 'Cinzel', serif; font-size: .85rem; color: var(--accent);
  flex-shrink: 0;
}
.adm-theory-user {
  font-family: 'Cinzel', serif; font-size: .72rem; color: var(--accent);
  letter-spacing: .06em;
}
.adm-theory-date { font-size: .75rem; color: var(--text-muted); }

.adm-status-pill {
  font-family: 'Cinzel', serif; font-size: .56rem; letter-spacing: .14em;
  padding: .22rem .65rem; text-transform: uppercase;
  border-radius: 2px; flex-shrink: 0;
}
.adm-status-pending  { background: rgba(245,166,35,.15);  color: #F5A623; border: 1px solid rgba(245,166,35,.4); }
.adm-status-approved { background: rgba(87,242,135,.12); color: #57F287; border: 1px solid rgba(87,242,135,.35); }
.adm-status-rejected { background: rgba(237,66,69,.12);  color: #ED4245; border: 1px solid rgba(237,66,69,.35); }

.adm-theory-title {
  font-family: 'Cinzel', serif; font-size: .9rem; font-weight: 600;
  color: var(--text); margin: .55rem 0 .3rem;
}
.adm-theory-tag {
  display: inline-block; font-size: .72rem;
  background: var(--tag-bg); color: var(--accent);
  border: 1px solid var(--hr); padding: .12rem .55rem;
  margin-bottom: .5rem;
}
.adm-theory-body {
  font-size: .9rem; color: var(--text-dim);
  line-height: 1.65; margin-bottom: .75rem;
  max-height: 5.5em; overflow: hidden;
  display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;
}
.adm-theory-expand { cursor: pointer; }
.adm-theory-expand.expanded { max-height: none; display: block; }

.adm-theory-actions {
  display: flex; gap: .5rem; flex-wrap: wrap;
  padding-top: .75rem; border-top: 1px solid var(--hr);
}

.adm-btn {
  display: inline-flex; align-items: center; gap: .32rem;
  padding: .35rem .85rem;
  font-family: 'Cinzel', serif; font-size: .6rem; letter-spacing: .1em;
  text-transform: uppercase; cursor: pointer; border: 1px solid;
  transition: all .18s;
}
.adm-btn-approve {
  background: rgba(87,242,135,.12); color: #57F287;
  border-color: rgba(87,242,135,.4);
}
.adm-btn-approve:hover { background: rgba(87,242,135,.25); }
.adm-btn-reject {
  background: rgba(237,66,69,.1); color: #ED4245;
  border-color: rgba(237,66,69,.4);
}
.adm-btn-reject:hover { background: rgba(237,66,69,.2); }
.adm-btn-delete {
  background: var(--surface3); color: var(--text-muted);
  border-color: var(--hr);
}
.adm-btn-delete:hover { color: #ED4245; border-color: rgba(237,66,69,.4); }
.adm-btn-neutral {
  background: var(--surface3); color: var(--text-dim);
  border-color: var(--hr);
}
.adm-btn-neutral:hover { border-color: var(--accent); color: var(--accent); }

.adm-rejection-reason {
  margin-top: .5rem; padding: .6rem .9rem;
  background: rgba(237,66,69,.07); border: 1px solid rgba(237,66,69,.25);
  font-size: .85rem; color: var(--text-muted);
  font-style: italic;
}

/* Reject modal overlay */
#adm-reject-modal-ov {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,.86); z-index: 2000;
  align-items: center; justify-content: center; padding: 1rem;
  backdrop-filter: blur(6px);
}
#adm-reject-modal-ov.open { display: flex; }
.adm-reject-modal {
  background: var(--surface); border: 1px solid var(--accent);
  padding: 1.8rem; max-width: 500px; width: 100%;
}
.adm-reject-modal h4 {
  font-family: 'Cinzel', serif; color: var(--accent);
  font-size: .9rem; letter-spacing: .1em; margin-bottom: 1rem;
}
.adm-reject-modal label {
  display: block; font-family: 'Cinzel', serif;
  font-size: .62rem; letter-spacing: .14em; color: var(--accent);
  text-transform: uppercase; margin-bottom: .4rem;
}
.adm-reject-modal textarea {
  width: 100%; background: var(--in-bg); border: 1px solid var(--in-border);
  color: var(--text); font-family: 'Crimson Pro', serif; font-size: 1rem;
  padding: .7rem .95rem; min-height: 90px; resize: vertical;
}
.adm-reject-modal textarea:focus { outline: none; border-color: var(--accent); }
.adm-reject-modal-actions {
  display: flex; gap: .6rem; justify-content: flex-end; margin-top: 1rem;
}

/* ════════════════════════════════════════════════════════════════════════
   GALLERY MANAGEMENT
════════════════════════════════════════════════════════════════════════ */
.adm-gal-folders { display: flex; flex-direction: column; gap: 1.8rem; }

.adm-gal-folder {
  border: 1px solid var(--hr);
  background: var(--surface2);
}
.adm-gal-folder-head {
  display: flex; align-items: center; justify-content: space-between;
  padding: .75rem 1rem; border-bottom: 1px solid var(--hr);
  background: var(--surface);
}
.adm-gal-folder-name {
  font-family: 'Cinzel', serif; font-size: .72rem;
  letter-spacing: .1em; color: var(--accent);
  display: flex; align-items: center; gap: .5rem;
}

.adm-upload-btn {
  display: inline-flex; align-items: center; gap: .35rem;
  padding: .32rem .85rem;
  font-family: 'Cinzel', serif; font-size: .6rem; letter-spacing: .1em;
  text-transform: uppercase; cursor: pointer;
  background: var(--tag-bg); border: 1px solid var(--hr);
  color: var(--accent); transition: all .18s;
}
.adm-upload-btn:hover { border-color: var(--accent); background: rgba(201,168,76,.18); }

.adm-gal-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: .6rem; padding: .9rem;
  min-height: 80px;
}
.adm-gal-loading {
  display: flex; align-items: center; justify-content: center;
  grid-column: 1 / -1; padding: 1.5rem;
}
.adm-gal-img-wrap {
  position: relative; aspect-ratio: 1;
  overflow: hidden; background: var(--surface3);
}
.adm-gal-img-wrap img {
  width: 100%; height: 100%; object-fit: cover;
  display: block; transition: transform .3s;
}
.adm-gal-img-wrap:hover img { transform: scale(1.06); }
.adm-gal-del-btn {
  position: absolute; top: 4px; right: 4px;
  background: rgba(237,66,69,.88); color: #fff;
  border: none; cursor: pointer; width: 22px; height: 22px;
  display: flex; align-items: center; justify-content: center;
  font-size: 12px; opacity: 0; transition: opacity .2s;
  border-radius: 2px;
}
.adm-gal-img-wrap:hover .adm-gal-del-btn { opacity: 1; }
.adm-gal-empty {
  grid-column: 1 / -1; text-align: center;
  font-size: .82rem; color: var(--text-muted);
  padding: 1.5rem; font-style: italic;
}
.adm-gal-uploading {
  position: absolute; inset: 0; background: rgba(0,0,0,.65);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: .5rem;
}
.adm-gal-uploading-bar {
  width: 70%; height: 3px; background: var(--hr); border-radius: 2px; overflow: hidden;
}
.adm-gal-uploading-fill {
  height: 100%; background: var(--accent);
  transition: width .3s;
}

/* ════════════════════════════════════════════════════════════════════════
   APPLICATIONS
════════════════════════════════════════════════════════════════════════ */
.adm-apps-list { display: flex; flex-direction: column; gap: .85rem; }

.adm-app-card {
  background: var(--surface2); border: 1px solid var(--hr); padding: 1.2rem;
  transition: border-color .2s;
}
.adm-app-card:hover { border-color: var(--accent); }

.adm-app-top {
  display: flex; align-items: center; justify-content: space-between;
  flex-wrap: wrap; gap: .7rem; margin-bottom: .9rem;
}
.adm-app-who {
  display: flex; align-items: center; gap: .65rem;
}
.adm-app-name {
  font-family: 'Cinzel', serif; font-size: .85rem; color: var(--accent);
}
.adm-app-handle { font-size: .78rem; color: var(--text-muted); }
.adm-app-pos {
  font-family: 'Cinzel', serif; font-size: .62rem; letter-spacing: .1em;
  color: var(--text-dim); text-transform: uppercase;
}

.adm-app-fields {
  display: grid; grid-template-columns: 1fr 1fr 1fr; gap: .6rem;
  margin-bottom: .9rem;
}
@media (max-width: 600px) { .adm-app-fields { grid-template-columns: 1fr 1fr; } }

.adm-app-field { }
.adm-app-field-label {
  font-family: 'Cinzel', serif; font-size: .52rem; letter-spacing: .15em;
  color: var(--text-muted); text-transform: uppercase; margin-bottom: .18rem;
}
.adm-app-field-val { font-size: .85rem; color: var(--text-dim); }

.adm-app-essay {
  background: var(--surface); border: 1px solid var(--hr);
  padding: .75rem .95rem; margin-bottom: .9rem;
}
.adm-app-essay-label {
  font-family: 'Cinzel', serif; font-size: .55rem; letter-spacing: .15em;
  color: var(--accent); text-transform: uppercase; margin-bottom: .35rem;
}
.adm-app-essay-text {
  font-size: .88rem; color: var(--text-dim); line-height: 1.7;
  max-height: 4.5em; overflow: hidden;
  display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;
}
.adm-app-essay-text.expanded { max-height: none; display: block; }

/* ════════════════════════════════════════════════════════════════════════
   SETTINGS
════════════════════════════════════════════════════════════════════════ */
.adm-settings-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 1.2rem;
}
.adm-setting-card {
  display: flex; gap: 1rem; align-items: flex-start;
  background: var(--surface2); border: 1px solid var(--hr); padding: 1.3rem;
}
.adm-setting-icon { flex-shrink: 0; padding-top: .1rem; }
.adm-setting-body { flex: 1; }
.adm-setting-title {
  font-family: 'Cinzel', serif; font-size: .82rem; color: var(--text);
  letter-spacing: .06em; margin-bottom: .3rem;
}
.adm-setting-desc { font-size: .86rem; color: var(--text-muted); margin-bottom: .8rem; line-height: 1.6; }
.adm-setting-row { display: flex; align-items: center; gap: .75rem; flex-wrap: wrap; }

.adm-setting-status {
  font-family: 'Cinzel', serif; font-size: .65rem; letter-spacing: .14em;
  text-transform: uppercase; padding: .25rem .7rem;
  border: 1px solid; border-radius: 2px;
}
.adm-setting-status.loading { color: var(--text-muted); border-color: var(--hr); }
.adm-setting-status.open    { color: #57F287; border-color: rgba(87,242,135,.4); background: rgba(87,242,135,.1); }
.adm-setting-status.closed  { color: #ED4245; border-color: rgba(237,66,69,.4);  background: rgba(237,66,69,.1); }

/* ── Nav tab (hidden by default, shown to staff via JS) ─────────────────── */
/* Add this to the nav-tabs ul — it will be hidden until staff is verified  */
#nav-admin-tab { display: none; }
#mob-admin-item { display: none; }
